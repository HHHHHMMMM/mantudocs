<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue的生命周期 | MANTU_DOCS</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/logo.jpg">
    <meta name="description" content="MANTU_TECH_DOCS">
    
    <link rel="preload" href="/assets/css/0.styles.396fbc2a.css" as="style"><link rel="preload" href="/assets/js/app.5416f660.js" as="script"><link rel="preload" href="/assets/js/2.2c2e0018.js" as="script"><link rel="preload" href="/assets/js/31.0762b140.js" as="script"><link rel="prefetch" href="/assets/js/10.e0173b58.js"><link rel="prefetch" href="/assets/js/11.36fdc39e.js"><link rel="prefetch" href="/assets/js/12.291d9270.js"><link rel="prefetch" href="/assets/js/13.ec80cefb.js"><link rel="prefetch" href="/assets/js/14.b155c43c.js"><link rel="prefetch" href="/assets/js/15.8127ade2.js"><link rel="prefetch" href="/assets/js/16.9899e37e.js"><link rel="prefetch" href="/assets/js/17.57d95e5b.js"><link rel="prefetch" href="/assets/js/18.a847e890.js"><link rel="prefetch" href="/assets/js/19.d6184219.js"><link rel="prefetch" href="/assets/js/20.a1cde6e8.js"><link rel="prefetch" href="/assets/js/21.d68806da.js"><link rel="prefetch" href="/assets/js/22.1aac6f25.js"><link rel="prefetch" href="/assets/js/23.6d46f983.js"><link rel="prefetch" href="/assets/js/24.c58ed2b0.js"><link rel="prefetch" href="/assets/js/25.7a2530de.js"><link rel="prefetch" href="/assets/js/26.1b70f33a.js"><link rel="prefetch" href="/assets/js/27.e53b0b17.js"><link rel="prefetch" href="/assets/js/28.b06c90b0.js"><link rel="prefetch" href="/assets/js/29.02244db4.js"><link rel="prefetch" href="/assets/js/3.8ff2a78c.js"><link rel="prefetch" href="/assets/js/30.6e3c4a25.js"><link rel="prefetch" href="/assets/js/32.b1f289bc.js"><link rel="prefetch" href="/assets/js/33.2ea97da6.js"><link rel="prefetch" href="/assets/js/34.d3a90cb5.js"><link rel="prefetch" href="/assets/js/35.816a3669.js"><link rel="prefetch" href="/assets/js/36.0c1b5f37.js"><link rel="prefetch" href="/assets/js/37.736a97b7.js"><link rel="prefetch" href="/assets/js/38.5731efd2.js"><link rel="prefetch" href="/assets/js/39.0d52579f.js"><link rel="prefetch" href="/assets/js/4.53e71ea3.js"><link rel="prefetch" href="/assets/js/40.b0edfbf5.js"><link rel="prefetch" href="/assets/js/41.5f32e96c.js"><link rel="prefetch" href="/assets/js/42.f9e43977.js"><link rel="prefetch" href="/assets/js/43.e8e0a83e.js"><link rel="prefetch" href="/assets/js/44.1c847bf6.js"><link rel="prefetch" href="/assets/js/45.c032366f.js"><link rel="prefetch" href="/assets/js/46.6e2abf92.js"><link rel="prefetch" href="/assets/js/47.ca75a3a7.js"><link rel="prefetch" href="/assets/js/48.b772e43a.js"><link rel="prefetch" href="/assets/js/49.b33cdb6a.js"><link rel="prefetch" href="/assets/js/5.8ceba14d.js"><link rel="prefetch" href="/assets/js/50.2f79204f.js"><link rel="prefetch" href="/assets/js/51.28a22dbc.js"><link rel="prefetch" href="/assets/js/52.11d3e79a.js"><link rel="prefetch" href="/assets/js/6.c337f479.js"><link rel="prefetch" href="/assets/js/7.5bfed052.js"><link rel="prefetch" href="/assets/js/8.8531b46a.js"><link rel="prefetch" href="/assets/js/9.39a1b9f3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.396fbc2a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.jpg" alt="MANTU_DOCS" class="logo"> <span class="site-name can-hide">MANTU_DOCS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术文档" class="dropdown-title"><span class="title">前端技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端技术文档" class="mobile-dropdown-title"><span class="title">前端技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuedocs/" class="nav-link router-link-active">
  vue_docs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端技术文档" class="dropdown-title"><span class="title">后端技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端技术文档" class="mobile-dropdown-title"><span class="title">后端技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/springboot_docs/" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/springcloudalibaba/" class="nav-link">
  springcloudalibaba
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维技术文档" class="dropdown-title"><span class="title">运维技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维技术文档" class="mobile-dropdown-title"><span class="title">运维技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/serverdocs/" class="nav-link">
  paas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Mantu主页" class="dropdown-title"><span class="title">Mantu主页</span> <span class="arrow down"></span></button> <button type="button" aria-label="Mantu主页" class="mobile-dropdown-title"><span class="title">Mantu主页</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Mantu主页
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuedocs/basevue/docs/.html#" class="nav-link">
  Mantu主页
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/HHHHHMMMM/effective-mantu-ms" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术文档" class="dropdown-title"><span class="title">前端技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端技术文档" class="mobile-dropdown-title"><span class="title">前端技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuedocs/" class="nav-link router-link-active">
  vue_docs
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端技术文档" class="dropdown-title"><span class="title">后端技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端技术文档" class="mobile-dropdown-title"><span class="title">后端技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/springboot_docs/" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/springcloudalibaba/" class="nav-link">
  springcloudalibaba
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维技术文档" class="dropdown-title"><span class="title">运维技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="运维技术文档" class="mobile-dropdown-title"><span class="title">运维技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/serverdocs/" class="nav-link">
  paas
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Mantu主页" class="dropdown-title"><span class="title">Mantu主页</span> <span class="arrow down"></span></button> <button type="button" aria-label="Mantu主页" class="mobile-dropdown-title"><span class="title">Mantu主页</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Mantu主页
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuedocs/basevue/docs/.html#" class="nav-link">
  Mantu主页
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/HHHHHMMMM/effective-mantu-ms" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue_Base</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuedocs/basevue/docs/初识vue.html" class="sidebar-link">vue基础</a></li><li><a href="/vuedocs/basevue/docs/Vue模板语法.html" class="sidebar-link">Vue模板语法</a></li><li><a href="/vuedocs/basevue/docs/vue中的属性和方法.html" class="sidebar-link">vue中的属性和方法</a></li><li><a href="/vuedocs/basevue/docs/监视属性.html" class="sidebar-link">监视属性</a></li><li><a href="/vuedocs/basevue/docs/计算属性.html" class="sidebar-link">计算属性</a></li><li><a href="/vuedocs/basevue/docs/计算属性和监听属性的对比.html" class="sidebar-link">计算属性和监听属性的对比</a></li><li><a href="/vuedocs/basevue/docs/事件处理.html" class="sidebar-link">事件处理</a></li><li><a href="/vuedocs/basevue/docs/条件渲染.html" class="sidebar-link">条件渲染</a></li><li><a href="/vuedocs/basevue/docs/列表渲染.html" class="sidebar-link">列表渲染</a></li><li><a href="/vuedocs/basevue/docs/数据代理.html" class="sidebar-link">数据代理</a></li><li><a href="/vuedocs/basevue/docs/vue检测数据改变的原理.html" class="sidebar-link">vue检测数据改变的原理</a></li><li><a href="/vuedocs/basevue/docs/收集表单数据.html" class="sidebar-link">收集表单数据</a></li><li><a href="/vuedocs/basevue/docs/vue其他内置指令.html" class="sidebar-link">vue其他内置指令</a></li><li><a href="/vuedocs/basevue/docs/vue中自定义指令.html" class="sidebar-link">vue中自定义指令</a></li><li><a href="/vuedocs/basevue/docs/vue的生命周期.html" class="active sidebar-link">vue的生命周期</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue_Advance</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue的生命周期"><a href="#vue的生命周期" class="header-anchor">#</a> vue的生命周期</h1> <p>什么是vue中的生命周期？</p> <p>简单说就是vue在整个工作过程中，某些特殊时间点单独调用的某些函数。这些函数就被称为生命周期。</p> <p>所谓，“关键时间点干的一些关键的事”。</p> <p>生命周期又称回调函数、生命周期函数、生命周期钩子，是Vue在关键时刻帮我们调用的一些特殊名称的函数。生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的。<strong>生命周期函数中的this指向是vm 或 组件实例对象，所以对于钩子函数，不要写成箭头函数，要写成普通函数！</strong></p> <p>附上官网解释,实际上就是上面说的例子：</p> <blockquote><p>每个 Vue 实例在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做<strong>生命周期钩子</strong>的函数，这给了用户在不同阶段添加自己的代码的机会。</p></blockquote> <h3 id="vue生命周期图解"><a href="#vue生命周期图解" class="header-anchor">#</a> vue生命周期图解</h3> <p><img src="/img/hook.png" alt="hook"></p> <p>把官网的图拿过来做了解释。</p> <p>红色框中的函数，叫做生命周期函数。绿色底色的称为环节，并不是生命周期函数。</p> <p>由上图可以很清晰的看到，生命周期一共有8个（4对），都有自己不同的作用。生命周期总体来说，分为三个部分，<strong>初始化部分，更新部分，销毁部分</strong>。</p> <h4 id="初始化部分"><a href="#初始化部分" class="header-anchor">#</a> 初始化部分</h4> <p><code>beforeCreate:</code>由于此时只是刚刚初始化了生命周期，数据代理还未开始，此时<strong>无法</strong> 通过vm访问到data和method中的任何东西。</p> <p><code>create</code>:到这一步时，其数据监测，数据代理已经更新完毕，可以访问到vm中的data和method数据。</p> <p><code>beforemount:</code>到这一步，实际上vue已经解析好了模板，并生成了一份<strong>虚拟dom</strong>存在内存中，但并没有来得及往页面上放。故如果单看这个钩子函数，页面展现的都是解析模板前的效果（虚拟dom没有生成真实dom），而在下一步<code>mounted</code>前就把内存中虚拟dom生成了真实dom放到了页面上。由此可见在此函数中手动修改dom。<strong>最终</strong>都不会见效。什么意思呢？就是说，在beforemount函数中，手动操作了dom，但马上vue就把前面内存中生成的虚拟dom放到了页面上，更新掉了你的修改。所以在beforemount中，任何手动修改dom的操作都是没有意义的。</p> <p><code>mounted:</code>在此阶段，vue完成了其初始化的全过程。此时页面上呈现到的是完全解析后的模板。在此阶段，对dom的其他手动操作均有效（但应避免使用vue时仍然手动操作dom），此阶段一般可以进行开启定时器，发送网络请求，订阅消息，绑定自定义事件等等页面一加载上来的初始化操作。需注意的是，在mounted操作之前，绿色框框还有个操作，叫“create vm.$el and replace &quot;el&quot; with it”，什么意思呢？就是把内存中虚拟dom，除了渲染生成真实dom放到页面，vm本身自己也还存了一份真实dom。为什么要存着一份呢？就是为了后面的更新流程。前面说过，vue的更新流程其中有一步就是对比新旧虚拟dom，万一有节点可以复用，不保存这一份真实dom，还如何复用？</p> <h4 id="更新部分"><a href="#更新部分" class="header-anchor">#</a> 更新部分</h4> <p><code>beforeUpdate:</code>：当data中的数据被修改时，会调用这个钩子函数。此时data中数据是新的，但页面还没有来得及重新渲染挂载，所以data数据是新的，但页面上的数据是旧的。</p> <p><code>updated:</code>此时data数据和页面均是新的，因为在updated和beforeUpdate函数中间，vue做了“Virtual Dom re-render and patch”动作，即：虚拟dom重渲染和比较工作。</p> <h4 id="销毁部分"><a href="#销毁部分" class="header-anchor">#</a> 销毁部分</h4> <p><code>beforedestroy:</code>此时vm中所有data，method，均处于可用状态，马上要执行销毁过程。此时会做关闭定时器，取消订阅消息，解绑自定义事件等各类收尾工作。</p> <p><code>destroyed:</code>完全销毁一个实例。清理它与其它实例的连接，解绑它的全部指令及自定义事件监听器。即，使用这个方法之后，所有vm相关的实例内容，全部会被解绑，vue实例上所有内容均不再奏效。但已解析好的内容，不会被销毁，即，销毁后自定义事件会失效，但原生DOM事件依然有效。什么意思呢？比如一个点击事件，会将data中的n+1并显示在页面上，在点击了5次以后，页面上n的位置显示5，然后调用destroy方法，再点击按钮+1时，已经无法+1，但页面上的5依旧是5，不会被连带销毁掉，不会变成。一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>总结生命周期：</p> <p>vue的生命周期一共有8个，4对，分别对应了数据检测、数据代理初始化（beforeCreate,created），vm创建过程（beforeMount,mounted），vm更新过程（beforeUpdate,Updated），vm销毁过程（beforeDestory,Destoryed）。要注意的是，beforeCreate和created并不是vm的创建，而是一些初始化过程的创建。vm真正创建过程在第二阶段，mount阶段，这个阶段无比重要，一般在开发中，一上来干的事，都会放<code>mounted</code>钩子函数中。另外一个很重要的钩子函数是<code>beforeDestory</code>,一般在此阶段会把mounted钩子函数中开启的定时器、订阅消息什么的都停止、解绑。</p></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/14/2021, 3:40:13 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuedocs/basevue/docs/vue中自定义指令.html" class="prev">
        vue中自定义指令
      </a></span> <span class="next"><a href="/vuedocs/advancevue/组件基础.html">
        组件基础
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5416f660.js" defer></script><script src="/assets/js/2.2c2e0018.js" defer></script><script src="/assets/js/31.0762b140.js" defer></script>
  </body>
</html>
